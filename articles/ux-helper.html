<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>UX Research Helper - Miguel Tomás Gomes</title>
  <meta name="description" content="A tool to help UX writers navigate research methods and statistics without needing deep statistical literacy." />

  <link rel="icon" type="image/png" href="../assets/favicon-miguel-tomas-gomes.png">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --accent: #0052ff;
      --accent-light: #e8f0fe;
      --text: #111;
      --muted: #555;
      --bg: #ffffff;
      --border: #e5e7eb;
      --radius: 12px;
      --timing: .7s cubic-bezier(.25,1,.25,1);
      --green: #188038;
      --green-light: #e6f4ea;
      --red: #d93025;
      --red-light: #fce8e6;
      --purple: #7c3aed;
      --purple-light: #f0e8ff;
      --orange: #ea580c;
      --orange-light: #fff7ed;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }

    body {
      font-family: 'Inter', system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      font-size: 1.0625rem;
      line-height: 1.75;
      -webkit-font-smoothing: antialiased;
    }

    a { color: var(--accent); text-decoration: none; }
    a:hover { text-decoration: underline; }
    img { max-width: 100%; display: block; }

    .container {
      max-width: 720px;
      margin: 0 auto;
      padding: 0 24px;
    }

    /* NAV */
    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: rgba(255,255,255,.8);
      backdrop-filter: blur(10px);
      z-index: 100;
      animation: slideDown .8s both;
    }

    nav {
      max-width: 1100px;
      margin: auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1.8rem 2.5rem;
    }

    .logo {
      font-weight: 600;
      font-size: 1rem;
      color: var(--text);
    }
    .logo:hover { text-decoration: none; }

    .nav-links {
      list-style: none;
      display: flex;
      gap: 3rem;
      margin: 0;
      padding: 0;
    }

    .nav-links li {
      opacity: 0;
      animation: fadeIn .6s forwards;
      animation-delay: calc(.1s * var(--i));
    }

    .nav-links a {
      color: var(--text);
      font-weight: 500;
      transition: color .25s;
    }

    .nav-links a:hover {
      color: var(--accent);
      text-decoration: none;
    }

    @keyframes slideDown {
      from { transform: translateY(-100%); }
      to { transform: translateY(0); }
    }
    @keyframes fadeIn {
      to { opacity: 1; }
    }

    /* BACKGROUND SHAPES */
    .depth-layer {
      position: fixed;
      inset: -20%;
      z-index: -1;
      pointer-events: none;
    }

    .shape {
      position: absolute;
      opacity: .06;
      filter: blur(1px);
      animation: drift 90s linear infinite alternate;
    }

    .shape:nth-child(1) {
      width: 45vmax;
      height: 45vmax;
      background: var(--accent);
      border-radius: 50%;
      top: 5%;
      left: -10%;
      animation-duration: 80s;
    }

    .shape:nth-child(2) {
      width: 35vmax;
      height: 35vmax;
      background: #00d4aa;
      border-radius: 50%;
      bottom: 12%;
      right: -5%;
      animation-duration: 100s;
    }

    @keyframes drift {
      0% { transform: translate(0, 0) rotate(0deg); }
      100% { transform: translate(10vw, -10vh) rotate(360deg); }
    }

    /* PAGE HEADER */
    .page-header {
      margin: 140px 0 48px;
    }

    .page-header h1 {
      font-size: clamp(1.85rem, 4.5vw, 2.5rem);
      font-weight: 700;
      letter-spacing: -0.03em;
      line-height: 1.2;
      margin-bottom: 16px;
    }

    .page-header p {
      color: var(--muted);
      font-size: 1rem;
      max-width: 540px;
    }

    /* TOOL STYLES */
    .form-section {
      background: linear-gradient(135deg, #f8faff 0%, #f0f5ff 100%);
      padding: 28px 32px;
      border-radius: var(--radius);
      border: 1px solid var(--border);
      margin-bottom: 32px;
    }

    .form-row { margin-bottom: 1rem; }
    .form-row:last-child { margin-bottom: 0; }

    label {
      display: block;
      font-weight: 600;
      margin-bottom: 8px;
      font-size: 0.95rem;
      color: var(--text);
    }

    .helper-text {
      font-size: 0.85rem;
      color: var(--muted);
      margin-top: 8px;
      font-style: italic;
    }

    select {
      width: 100%;
      padding: 12px 16px;
      border: 1px solid var(--border);
      border-radius: 8px;
      font-size: 1rem;
      font-family: inherit;
      background: #fff;
      cursor: pointer;
      transition: border-color 0.2s, box-shadow 0.2s;
      color: var(--text);
    }

    select:invalid,
    select option[value=""] {
      color: var(--muted);
    }

    select option:not([value=""]) {
      color: var(--text);
    }

    select:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(0, 82, 255, 0.1);
    }

    .hidden { display: none !important; }

    /* ANSWER CARD */
    .answer-card {
      background: #fff;
      border-radius: var(--radius);
      border: 1px solid var(--border);
      overflow: hidden;
      margin-bottom: 32px;
      box-shadow: 0 4px 20px -8px rgba(0,0,0,.08);
    }

    .decision-layer {
      padding: 28px 32px;
      border-bottom: 1px solid var(--border);
    }

    .badge {
      display: inline-block;
      padding: 6px 12px;
      font-size: 0.7rem;
      font-weight: 700;
      border-radius: 6px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: 12px;
    }

    .badge.do-this { background: var(--green-light); color: var(--green); }
    .badge.directional { background: var(--orange-light); color: var(--orange); }
    .badge.help { background: var(--accent-light); color: var(--accent); }
    .badge.ab { background: var(--purple-light); color: var(--purple); }

    .method-name {
      font-size: 1.25rem;
      color: var(--text);
      font-weight: 700;
      margin: 0 0 8px 0;
      letter-spacing: -0.02em;
    }

    .primary-rec {
      font-size: 1rem;
      color: var(--muted);
      line-height: 1.6;
    }

    .execution-layer {
      padding: 28px 32px;
      border-bottom: 1px solid var(--border);
    }

    .section-title {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--accent);
      font-weight: 700;
      margin: 24px 0 12px 0;
    }

    .section-title:first-child { margin-top: 0; }

    .checklist {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .checklist li {
      padding-left: 24px;
      position: relative;
      margin-bottom: 10px;
      font-size: 0.95rem;
      line-height: 1.6;
    }

    .checklist li:before {
      content: "→";
      position: absolute;
      left: 0;
      color: var(--accent);
      font-weight: 600;
    }

    .outcome-box {
      background: linear-gradient(135deg, #f8faff 0%, #f0f5ff 100%);
      border-left: 4px solid var(--accent);
      padding: 16px 20px;
      margin: 12px 0;
      border-radius: 0 var(--radius) var(--radius) 0;
      font-size: 0.95rem;
    }

    .outcome-box strong {
      color: var(--text);
      display: block;
      margin-bottom: 4px;
    }

    .mistake-box {
      background: var(--red-light);
      border-left: 4px solid var(--red);
      padding: 16px 20px;
      margin-top: 16px;
      border-radius: 0 var(--radius) var(--radius) 0;
      font-size: 0.95rem;
    }

    .mistake-box strong {
      color: var(--red);
      display: block;
      margin-bottom: 4px;
    }

    /* DETAILS/ACCORDION */
    details > summary {
      padding: 16px 32px;
      cursor: pointer;
      font-weight: 600;
      color: var(--text);
      font-size: 0.9rem;
      list-style: none;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid var(--border);
      background: #fafafa;
      transition: background 0.2s;
    }

    details > summary:hover {
      background: #f5f5f5;
    }

    details > summary::-webkit-details-marker { display: none; }
    details > div { padding: 24px 32px; background: #fff; }
    details:last-child > summary { border-bottom: none; }

    .chevron {
      font-size: 0.75rem;
      display: inline-block;
      transition: transform 0.2s ease-out;
      color: var(--muted);
    }

    details[open] .chevron { transform: rotate(180deg); }

    .method-alt {
      margin-bottom: 16px;
      padding-bottom: 16px;
      border-bottom: 1px dashed var(--border);
      font-size: 0.9rem;
    }

    .method-alt:last-child {
      margin-bottom: 0;
      padding-bottom: 0;
      border-bottom: none;
    }

    .method-alt-name {
      font-weight: 600;
      color: var(--text);
      margin-bottom: 4px;
    }

    .method-alt-when {
      font-size: 0.85rem;
      color: var(--muted);
      font-style: italic;
    }

    .stats-box {
      background: var(--purple-light);
      border-left: 4px solid var(--purple);
      padding: 16px 20px;
      margin: 16px 0;
      border-radius: 0 var(--radius) var(--radius) 0;
      font-size: 0.9rem;
    }

    .stats-box strong {
      color: var(--purple);
      display: block;
      margin-bottom: 4px;
    }

    .stakeholder-quote {
      background: #fafafa;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 16px 20px;
      margin-top: 16px;
      font-style: italic;
      font-size: 0.9rem;
      line-height: 1.6;
      color: var(--muted);
    }

    .stakeholder-quote:before {
      content: '"';
      font-size: 1.5rem;
      color: var(--accent);
      line-height: 1;
      margin-right: 4px;
    }

    pre {
      background: var(--text);
      color: #fff;
      padding: 16px;
      border-radius: 8px;
      overflow-x: auto;
      font-size: 0.85rem;
      margin: 12px 0;
      font-family: 'SF Mono', Monaco, monospace;
    }

    .advanced-traps {
      margin-top: 16px;
      padding: 16px;
      background: #fafafa;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      font-size: 0.9rem;
    }

    .advanced-traps strong {
      color: var(--text);
      display: block;
      margin-bottom: 8px;
    }

    .advanced-traps ul {
      margin: 0;
      padding-left: 20px;
    }

    .advanced-traps li { margin-bottom: 6px; }

    /* RESET BUTTON */
    .reset-wrap {
      text-align: center;
      margin-top: 24px;
    }

    .reset {
      color: var(--accent);
      text-decoration: none;
      font-size: 0.9rem;
      font-weight: 500;
      cursor: pointer;
      background: none;
      border: none;
      font-family: inherit;
    }

    .reset:hover { text-decoration: underline; }

    /* MODAL */
    .modal {
      position: fixed;
      inset: 0;
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .modal.hidden { display: none !important; }

    .modal-backdrop {
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(4px);
    }

    .modal-content {
      position: relative;
      background: #fff;
      width: 90%;
      max-width: 640px;
      max-height: 85vh;
      overflow-y: auto;
      border-radius: var(--radius);
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
      z-index: 1001;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px 28px;
      border-bottom: 1px solid var(--border);
    }

    .modal-header h3 {
      margin: 0;
      color: var(--text);
      font-size: 1.1rem;
      font-weight: 700;
    }

    .modal-close {
      background: none;
      border: none;
      font-size: 1.5rem;
      color: var(--muted);
      cursor: pointer;
      line-height: 1;
      transition: color 0.2s;
    }

    .modal-close:hover { color: var(--text); }

    .modal-body {
      padding: 28px;
      font-size: 0.95rem;
      line-height: 1.7;
      color: var(--text);
    }

    .modal-body h4 {
      color: var(--text);
      margin: 24px 0 8px;
      font-size: 1rem;
      font-weight: 700;
    }

    .modal-body h4:first-child { margin-top: 0; }

    .modal-body code {
      background: #f5f5f5;
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 0.9em;
      color: var(--accent);
    }

    .modal-body ul {
      margin: 8px 0;
      padding-left: 20px;
    }

    .modal-body li { margin-bottom: 6px; }

    .guide-link {
      display: inline-block;
      margin-top: 12px;
      color: var(--accent);
      text-decoration: none;
      font-size: 0.9rem;
      font-weight: 500;
      cursor: pointer;
    }

    .guide-link:hover { text-decoration: underline; }
    .guide-link:before { content: "→ "; opacity: 0.6; }

    /* FOOTER */
    .site-footer {
      margin-top: 80px;
      padding: 32px 0;
      border-top: 1px solid var(--border);
      text-align: center;
      color: var(--muted);
      font-size: 0.875rem;
    }

    .site-footer a {
      color: var(--text);
      font-weight: 500;
    }

    .site-footer a:hover { color: var(--accent); }

    /* RESPONSIVE */
    @media (max-width: 768px) {
      nav { padding: 0.8rem 1.5rem; }
      .page-header { margin-top: 120px; }
    }

    @media (max-width: 600px) {
      nav { flex-direction: column; gap: 1rem; text-align: center; }
      .nav-links { justify-content: center; gap: 1.5rem; }
      .page-header { margin: 100px 0 32px; }
      .page-header h1 { font-size: 1.75rem; }
      .form-section { padding: 20px 24px; }
      .decision-layer,
      .execution-layer,
      details > div { padding: 20px 24px; }
      details > summary { padding: 14px 24px; }
    }
  </style>
</head>
<body>
  <div class="depth-layer">
    <div class="shape"></div>
    <div class="shape"></div>
  </div>

  <header>
    <nav aria-label="Primary">
      <a href="/" class="logo">Miguel Tomás Gomes</a>
      <ul class="nav-links">
        <li style="--i:1"><a href="/about">About</a></li>
        <li style="--i:2"><a href="/articles/">Work Samples</a></li>
        <li style="--i:3"><a href="/#contact">Contact</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <div class="container">
      <div class="page-header">
        <h1>UX Research Helper</h1>
        <p>Pick the right way to learn before you worry about statistics.</p>
      </div>

      <div class="form-section">
        <div class="form-row">
          <label for="intent">What are you trying to understand?</label>
          <select id="intent">
            <option value="">Select an option</option>
            <option value="understanding">If users understand something</option>
            <option value="preference">Which option users prefer</option>
            <option value="behaviour">If users will do something</option>
            <option value="unsure">I'm not sure yet</option>
          </select>

        </div>

        <div id="peopleRow" class="form-row hidden">
          <label for="people" id="peopleLabel">How many people?</label>
          <select id="people">
            <option value="">Select an option</option>
          </select>
          <div id="peopleHelper" class="helper-text hidden"></div>
        </div>
      </div>

      <div id="answerCard" class="answer-card hidden">
        <div class="decision-layer">
          <span id="badge" class="badge"></span>
          <div id="methodName" class="method-name"></div>
          <div id="primaryRec" class="primary-rec"></div>
        </div>

        <div class="execution-layer">
          <div class="section-title">What to do (10–30 minutes)</div>
          <ul id="checklist" class="checklist"></ul>
          <div class="section-title">What you will learn</div>
          <div id="outcomeBox" class="outcome-box"></div>
          <div id="mistakeBox" class="mistake-box"></div>
        </div>

        <details>
          <summary>
            <span>Other methods that might fit better</span>
            <span class="chevron">▼</span>
          </summary>
          <div id="methodToolbox"></div>
        </details>

        <details>
          <summary>
            <span>If you still need hard metrics</span>
            <span class="chevron">▼</span>
          </summary>
          <div id="statsToolbox"></div>
        </details>
      </div>

      <!-- FULL GUIDE MODAL SYSTEM -->
      <div id="guideModal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
          <div class="modal-header">
            <h3 id="modalTitle">Statistical Guide</h3>
            <button class="modal-close" aria-label="Close">&times;</button>
          </div>
          <div class="modal-body" id="modalBody">
            <!-- Content injected here -->
          </div>
        </div>
      </div>

<script>
  // ---- CONFIG ----
  const intentConfig = {
    understanding: {
      label: "How many users can you talk to?",
      options: [
        { value: "u1", text: "1–5" },
        { value: "u2", text: "6–14" },
        { value: "u3", text: "15+" }
      ],
      helper: "Choose participants who reflect your actual user base."
    },
    preference: {
      label: "How many people can compare both options?",
      options: [
        { value: "p1", text: "1–9" },
        { value: "p2", text: "10–14" },
        { value: "p3", text: "15+" }
      ],
      helper: "Each person sees both options. Preference doesn&apos;t predict conversion."
    },
    behaviour: {
      label: "How many users per version (A and B)?",
      options: [
        { value: "b1", text: "16–40 per version" },
        { value: "b2", text: "40–100 per version" },
        { value: "b3", text: "100+ per version" }
      ],
      helper: "Per version means per variant (A or B). Two versions ≈ double the total users."
    }
  };

  const scenarios = {
    unsure: {
      badgeClass: "help",
      badgeText: "Guidance",
      method: "Pick the question type first",
      rec: "Choose the question type that matches your goal. The method comes after.",
      steps: [
        "If you want to know whether people interpret a message correctly, pick <strong>Understanding</strong>.",
        "If you want to know which option feels more trustworthy or appealing, pick <strong>Preference</strong>.",
        "If you want to know whether a change increases completion, pick <strong>Observed behaviour</strong>."
      ],
      outcome: "<strong>Example insight:</strong> You realise an A/B test with 10 people isn&apos;t the right move. That&apos;s a good decision, not a delay.",
      mistake: "<strong>Avoid:</strong> Jumping straight to tiny A/B tests without a clear learning goal.",
      altMethods:
        '<div class="method-alt">' +
          '<div class="method-alt-name">5-user usability test</div>' +
          '<div class="method-alt-when">Good for: You have a messy flow and no clear hypothesis yet.</div>' +
        '</div>' +
        '<div class="method-alt">' +
          '<div class="method-alt-name">Open-ended interviews</div>' +
          '<div class="method-alt-when">Good for: You&apos;re still discovering problems, not testing solutions.</div>' +
        '</div>',
      stats:
        '<div class="stats-box"><strong>No stats needed</strong>At this stage, the most &quot;advanced&quot; move is picking the right question, not a test.</div>'
    },

    understanding: {
      u1: {
        badgeClass: "do-this",
        badgeText: "Suggested for you",
        method: "Open-ended comprehension interview",
        rec: "Run quick comprehension checks to spot major confusion. Don&apos;t count rates yet.",
        steps: [
          "Show the copy on the real screen (not in isolation).",
          "Ask: &quot;What does this mean to you?&quot;",
          "Ask: &quot;What would you do next?&quot;",
          "Write down the top 2–3 misunderstandings."
        ],
        outcome:
          "<strong>Example insight:</strong> You spot big failure modes. If even one person is completely lost, that&apos;s worth fixing.",
        mistake:
          "<strong>Avoid:</strong> Reporting &quot;20% failed&quot; with 5 people. Just list what failed and why.",
        altMethods:
          '<div class="method-alt">' +
            '<div class="method-alt-name">5-second test</div>' +
            '<div class="method-alt-when">Good for: Testing first impressions or main-message clarity. Show briefly, hide, then ask what they remember.</div>' +
          '</div>' +
          '<div class="method-alt">' +
            '<div class="method-alt-name">Highlighter test</div>' +
            '<div class="method-alt-when">Good for: Testing whether users notice the key message in context.</div>' +
          '</div>',
        stats:
          '<div class="stats-box"><strong>No statistical testing</strong>With 1–5 people, focus on qualitative notes. You can count misunderstandings, but avoid turning them into percentages. There&apos;s not enough data for that to be meaningful.</div>' +
          '<div class="stakeholder-quote">We spoke to 4 users and saw the same misunderstanding twice. That&apos;s enough to justify a copy change before larger testing.</div>'
      },
      u2: {
        badgeClass: "do-this",
        badgeText: "Suggested for you",
        method: "Structured comprehension check (scored)",
        rec: "You can be structured without being statistical. Introduce pass/fail scoring and themes.",
        steps: [
          "Show the design or copy in context (not in isolation).",
          "Ask the same comprehension prompts for everyone.",
          "Score each response: Pass / Partial / Fail.",
          "Group failures into themes (e.g., &quot;thought this meant X&quot;).",
          "Rank themes by how often they appear."
        ],
        outcome:
          "<strong>Example insight:</strong> If 4 out of 10 misunderstand the same thing, it&apos;s a real issue you can act on.",
        mistake:
          "<strong>Avoid:</strong> Calculating p-values or &quot;significance.&quot; You&apos;re still in find-and-fix mode.",
        altMethods:
          '<div class="method-alt">' +
            '<div class="method-alt-name">Tree testing</div>' +
            '<div class="method-alt-when">Good for: testing findability (e.g., &quot;Where would you go to do X?&quot;).</div>' +
          '</div>' +
          '<div class="method-alt">' +
            '<div class="method-alt-name">Closed card sort</div>' +
            '<div class="method-alt-when">Good for: seeing if your labels and categories match users&apos; expectations.</div>' +
          '</div>',
        stats:
          '<div class="stats-box"><strong>Simple scoring</strong>Count Pass vs Fail. List the top 2–3 themes. That&apos;s the right level of &quot;math&quot; here.</div>' +
          '<div class="stakeholder-quote">We ran structured comprehension checks with 10 users. 6 of them misinterpreted the same label, so we&apos;re updating that wording before any A/B tests.</div>'
      },
      u3: {
        badgeClass: "do-this",
        badgeText: "Suggested for you",
        method: "Comprehension rate",
        rec: "You can report a rough pass rate to show improvement over time. Still no need for p-values.",
        steps: [
          "Keep pass/fail scoring consistent across users.",
          "Report something simple: &quot;14 of 20 understood correctly (70%).&quot;",
          "If you iterate, report before/after (e.g., 8/20 → 14/20).",
          "Keep a short list of the remaining failure themes."
        ],
        outcome:
          "<strong>Example insight:</strong> If 18/20 pass, that&apos;s usually &quot;good enough.&quot; You don&apos;t need statistical significance to move on.",
        mistake:
          "<strong>Avoid:</strong> Running an A/B test just to &quot;prove&quot; comprehension. It&apos;s usually unnecessary overhead.",
        altMethods:
          '<div class="method-alt">' +
            '<div class="method-alt-name">First-click testing</div>' +
            '<div class="method-alt-when">Good for: You want to show that most users start in the right place for a task.</div>' +
          '</div>' +
          '<div class="method-alt">' +
            '<div class="method-alt-name">Highlighter test</div>' +
            '<div class="method-alt-when">Good for: You want evidence that users notice the primary message immediately.</div>' +
          '</div>',
        stats:
          '<div class="stats-box"><strong>Simple proportion</strong>Use Pass/Total as a rough rate (e.g., 14/20 = 70%).</div>' +
          '<div class="stakeholder-quote">In our latest round, 70% of users interpreted the message correctly versus 40% in the previous version. That&apos;s enough improvement to ship.</div>'
      }
    },

    preference: {
      p1: {
        badgeClass: "do-this",
        badgeText: "Suggested for you",
        method: "Qualitative preference interview",
        rec: "Don&apos;t count votes. Capture why people choose what they choose.",
        steps: [
          "Show both options; randomise the order for each person.",
          "Ask: &quot;If you had to choose, which would you use?&quot;",
          "Ask: &quot;What made that option feel better or more trustworthy?&quot;",
          "Cluster the reasons into themes (e.g., &quot;safer&quot;, &quot;clearer&quot;)."
        ],
        outcome:
          "<strong>Example insight:</strong> A 5/4 split means nothing. But if most people mention the same reason, that&apos;s your design direction.",
        mistake:
          "<strong>Avoid:</strong> Reporting &quot;56% preferred A&quot; with 9 people. That&apos;s just noise.",
        altMethods:
          '<div class="method-alt">' +
            '<div class="method-alt-name">Desirability testing</div>' +
            '<div class="method-alt-when">Good for: You want to know which design feels most &quot;friendly&quot;, &quot;professional&quot;, etc. Users pick adjectives for each option.</div>' +
          '</div>' +
          '<div class="method-alt">' +
            '<div class="method-alt-name">Sentence completion</div>' +
            '<div class="method-alt-when">Good for: You&apos;re testing tone. Use prompts like &quot;This product seems like it would…&quot;.</div>' +
          '</div>',
        stats:
          '<div class="stats-box"><strong>No statistical test</strong>With fewer than 10 people, treat any counts as anecdotal. Use themes + examples in your story.</div>' +
          '<div class="stakeholder-quote">In 7 interviews, participants consistently described version B as &quot;more trustworthy&quot;. We&apos;re taking that into the next behaviour test.</div>'
      },
      p2: {
        badgeClass: "directional",
        badgeText: "Directional",
        method: "Paired preference test (reasons first)",
        rec: "You can note the vote direction, but the reasons still matter more than the count.",
        steps: [
          "Show both options; swap order each session to avoid bias.",
          "Ask which they would trust more to complete the task, then immediately ask why.",
          "Record the split (e.g., 8 chose A, 6 chose B) for context only.",
          "Use the combo of split + reasons to pick a candidate for behaviour testing."
        ],
        outcome:
          "<strong>Example insight:</strong> 60/40 splits are common and often meaningless. You&apos;re looking for 75/25-style splits and strong themes.",
        mistake:
          "<strong>Avoid:</strong> Treating a 60/40 split as a clear win. If reasons don&apos;t cluster, treat it as inconclusive.",
        altMethods:
          '<div class="method-alt">' +
            '<div class="method-alt-name">Remote unmoderated preference test</div>' +
            '<div class="method-alt-when">Good for: You want quick directional signal from a slightly larger sample.</div>' +
          '</div>',
        stats:
          '<div class="stats-box"><strong>Directional counts</strong>Count votes, but avoid hard claims unless the split is very strong (around 75/25 or more).</div>' +
          '<div class="stakeholder-quote">Out of 12 participants, 9 picked concept B and described it as clearer and more trustworthy. We&apos;re taking B into an A/B test on live traffic.</div>'
      },
      p3: {
        badgeClass: "directional",
        badgeText: "Preference test",
        method: "Preference test with optional binomial check",
        rec: "You can use a simple binomial test if one option clearly dominates.",
        steps: [
          "Run the same paired test: both options, &quot;which&quot; then &quot;why&quot;.",
          "Summarise the split (e.g., 18 chose A, 2 chose B).",
          "Only consider stats if the split is dramatic (about 75/25 or stronger).",
          "If the split is near 50/50, treat it as a tie regardless of sample size."
        ],
        outcome:
          "<strong>Example insight:</strong> A 55/45 split is weak even with lots of people. A 16/4 split is meaningful, even at smaller N.",
        mistake:
          "<strong>Avoid:</strong> Running a binomial test on a 60/40 split just to get a p-value. That&apos;s usually noise-chasing.",
        altMethods:
          '<div class="method-alt">' +
            '<div class="method-alt-name">Multi-variant preference test</div>' +
            '<div class="method-alt-when">Good for: You have 3–4 creative directions and want one or two to take forward.</div>' +
          '</div>',
        stats:
          '<div class="stats-box"><strong>Optional: binomial test (pick-one votes)</strong>' +
            '<p>Use this only when one option clearly dominates.</p>' +
            '<pre>from scipy.stats import binomtest\np = binomtest(wins, n, 0.5).pvalue</pre>' +
            '<p>If p &lt; 0.05 and the split is strong (≈70/30+), you&apos;ve got a real preference signal. Still remember: preference ≠ performance.</p>' +
          '</div>' +
          '<div class="stakeholder-quote">In a 24-person preference test, 19 chose design A (p &lt; 0.01 vs. 50/50). We&apos;re now validating A in a behaviour test.</div>'
      }
    },

    behaviour: {
      b1: {
        badgeClass: "directional",
        badgeText: "A/B: directional",
        method: "Small A/B test (large effects only)",
        rec: "You can run an A/B test, but only large changes will show up. Treat results as directional.",
        steps: [
          "Pick one binary metric (completed / not completed).",
          "Randomise which version each user sees (no self-selection).",
          "Run until both versions have at least ~20 users.",
          "Look for obvious differences; ignore tiny lifts."
        ],
        outcome:
          "<strong>Example insight:</strong> &quot;No clear difference&quot; is expected unless the change is bold. Small improvements will look like noise.",
        mistake:
          "<strong>Don&apos;t run this if:</strong> You&apos;re hoping to detect a tiny lift (under ~10 percentage points). This setup isn&apos;t sensitive enough.",
        altMethods:
          '<div class="method-alt">' +
            '<div class="method-alt-name">Task-based usability test</div>' +
            '<div class="method-alt-when">Good for: You need to understand <em>why</em> people fail before you measure <em>how often</em>.</div>' +
          '</div>',
        stats:
          '<div class="stats-box"><strong>Optional: two-proportion test (directional)</strong>' +
            '<p>You can use a simple z-test to compare conversion rates, but treat the result as directional only:</p>' +
            '<pre>from statsmodels.stats.proportion import proportions_ztest\nimport numpy as np\n\ncount = np.array([success_a, success_b])\nnobs  = np.array([n_a, n_b])\nz, p = proportions_ztest(count, nobs)</pre>' +
            '<p>Even if p &lt; 0.05, you&apos;ll usually want a follow-up test or more data.</p>' +
          '</div>' +
          '<div class="advanced-traps">' +
            '<strong>Advanced: avoid these traps</strong>' +
            '<ul>' +
              '<li><strong>Peeking:</strong> Don&apos;t check results daily and stop when it looks good.</li>' +
              '<li><strong>Multiple metrics:</strong> Pick one primary metric before you start.</li>' +
              '<li><strong>Segments:</strong> Don&apos;t slice by device or country after the fact unless you planned it.</li>' +
            '</ul>' +
          '</div>'
      },
      b2: {
        badgeClass: "ab",
        badgeText: "A/B: reasonable",
        method: "Standard A/B test (medium effects)",
        rec: "Run a proper A/B test. Medium improvements (roughly 8–15%) should show up.",
        steps: [
          "Pick one primary metric before you start.",
          "Randomise who sees each version; no manual assignment.",
          "Run for at least one full business cycle (often 1–2 weeks).",
          "Report the absolute difference (e.g., 12% → 18%), not just &quot;B won&quot;."
        ],
        outcome:
          "<strong>Example insight:</strong> Medium improvements are visible. Very small tweaks may still be inconclusive, and that&apos;s normal.",
        mistake:
          "<strong>Avoid:</strong> Stopping the moment the p-value looks good, or hunting for wins across many metrics.",
        altMethods:
          '<div class="method-alt">' +
            '<div class="method-alt-name">Sequential A/B test (with stopping rules)</div>' +
            '<div class="method-alt-when">Good for: You run tests often and want a more formal stopping rule (needs proper design).</div>' +
          '</div>',
        stats:
          '<div class="stats-box"><strong>Two-proportion test (z-test / chi-square)</strong>' +
            '<p>Use a two-proportion test to check if A and B differ beyond random noise:</p>' +
            '<pre>from statsmodels.stats.proportion import proportions_ztest\nimport numpy as np\n\ncount = np.array([sA, sB])\nnobs  = np.array([nA, nB])\nz, p = proportions_ztest(count, nobs)</pre>' +
            '<p>Always report the effect size: &quot;Conversion improved from 12% to 18%&quot; is more useful than &quot;p = 0.03&quot; alone.</p>' +
          '</div>' +
          '<div class="advanced-traps">' +
            '<strong>Advanced: avoid these traps</strong>' +
            '<ul>' +
              '<li><strong>Peeking:</strong> Don&apos;t stop early just because the curve looks good.</li>' +
              '<li><strong>Multiple metrics:</strong> Decide your primary metric before launching.</li>' +
              '<li><strong>Segments:</strong> Don&apos;t mine for wins in sub-groups you didn&apos;t plan ahead.</li>' +
            '</ul>' +
          '</div>'
      },
      b3: {
        badgeClass: "ab",
        badgeText: "A/B: comfortable",
        method: "High-power A/B test",
        rec: "Run a full A/B test with confidence. Medium effects should show reliably; some smaller ones too.",
        steps: [
          "Pick a single, crisp primary metric.",
          "Randomise exposure; avoid any self-selection.",
          "Run for at least one full cycle to avoid day-of-week effects.",
          "Calculate effect size and, if you can, confidence intervals."
        ],
        outcome:
          "<strong>Example insight:</strong> If there is still &quot;no difference&quot; at this size, the change probably didn&apos;t move the needle in a meaningful way.",
        mistake:
          "<strong>Avoid:</strong> Chasing tiny statistically significant gains that don&apos;t matter in practice.",
        altMethods:
          '<div class="method-alt">' +
            '<div class="method-alt-name">Multi-armed bandit</div>' +
            '<div class="method-alt-when">Good for: You have many variants and want to send more traffic to winners over time (requires infra and care).</div>' +
          '</div>',
        stats:
          '<div class="stats-box"><strong>Two-proportion test with confidence intervals</strong>' +
            '<pre>from statsmodels.stats.proportion import proportions_ztest, proportion_confint\nimport numpy as np\n\ncount = np.array([sA, sB])\nnobs  = np.array([nA, nB])\n\nz, p = proportions_ztest(count, nobs)\nci_low, ci_high = proportion_confint(count, nobs, alpha=0.05)</pre>' +
            '<p>Example wording: &quot;Conversion improved from 12% to 18% (95% CI: 14–22%, p = 0.01).&quot;</p>' +
          '</div>' +
          '<div class="advanced-traps">' +
            '<strong>Advanced: avoid these traps</strong>' +
            '<ul>' +
              '<li><strong>Peeking:</strong> Don&apos;t keep checking and stopping when you like the answer.</li>' +
              '<li><strong>Multiple metrics:</strong> Use secondary metrics as supporting evidence, not hunting grounds.</li>' +
              '<li><strong>Practical vs. statistical:</strong> A tiny but &quot;significant&quot; lift may not be worth the effort.</li>' +
            '</ul>' +
          '</div>'
      }
    }
  };

  // ---- GUIDE CONTENT ----
  const guideContent = {
    binomial: `
      <h4>When to use this</h4>
      <p>Use a binomial test when you have a <strong>pick-one preference</strong> (A vs B) and you want to know if the split is better than chance (50/50). Common in preference testing with 15+ participants.</p>
      
      <h4>The logic</h4>
      <p>Under random chance, you'd expect a 50/50 split. If you see 18 choose A and 2 choose B (20 total), the binomial test calculates how surprising that result is under the "coin flip" assumption.</p>
      
      <pre>from scipy.stats import binomtest
# 18 successes out of 20 trials
result = binomtest(18, 20, p=0.5)
print(result.pvalue)  # ~0.0004</pre>
      
      <h4>Interpreting results</h4>
      <ul>
        <li><strong>p < 0.05:</strong> The preference is "statistically significant", unlikely to be random noise.</li>
        <li><strong>Effect size matters:</strong> With small samples, you need a lopsided split (70/30 or stronger) to reach significance. A 60/40 split with 20 people won't cut it, and that's good. It means you're not chasing noise.</li>
        <li><strong>Preference ≠ Performance:</strong> Significant preference predicts which design feels better, not which converts better. Always validate in a behaviour test.</li>
      </ul>
      
      <h4>Stakeholder wording</h4>
      <div class="stakeholder-quote" style="margin-top:1rem;">In a 24-person preference test, 19 chose design A (p < 0.01 vs. 50/50). While this doesn't guarantee conversion lift, it gives us confidence to move A into the A/B testing phase.</div>
    `,
    twoprop: `
      <h4>When to use this</h4>
      <p>Use a two-proportion z-test when comparing <strong>success rates</strong> between two independent groups (A/B testing). Example: "12% of control users completed checkout vs 18% of variant users."</p>
      
      <h4>Why not chi-square?</h4>
      <p>For simple 2×2 tables (A/B × Success/Failure), the chi-square test and two-proportion z-test give identical p-values. The z-test is often easier to explain because it directly compares two percentages.</p>
      
      <pre>from statsmodels.stats.proportion import proportions_ztest, proportion_confint
import numpy as np

# successes and totals
count = np.array([24, 36])   # 24 successes in A, 36 in B
nobs  = np.array([200, 200]) # 200 users each

z, p = proportions_ztest(count, nobs)
ci_low, ci_high = proportion_confint(count, nobs, alpha=0.05)</pre>

      <h4>What to report</h4>
      <ul>
        <li><strong>Absolute difference:</strong> "Conversion improved from 12% to 18%" (6 percentage points).</li>
        <li><strong>Relative lift:</strong> "That's a 50% relative increase" (useful for headlines, but pair with absolute).</li>
        <li><strong>Confidence interval:</strong> "95% CI: 14–22%" tells stakeholders the plausible range for the true rate.</li>
        <li><strong>p-value:</strong> Only mention if they ask. "p = 0.03" means there's a 3% chance this difference is just noise.</li>
      </ul>
      
      <h4>The "peeking" trap</h4>
      <p>Do not check results daily and stop when p < 0.05. This inflates your false-positive rate massively. Set a sample size in advance (or use proper sequential testing) and run for full business cycles.</p>
    `,
    comprehension: `
      <h4>Scoring comprehension qualitatively</h4>
      <p>With small samples (5–15 users), you're not calculating p-values. You're hunting for failure modes. Use <strong>pass/partial/fail</strong> scoring to keep it structured without faking precision.</p>
      
      <h4>When to switch to numbers</h4>
      <p>At 15+ users, you can report a rough pass rate (e.g., "14 of 20 understood correctly"), but resist the urge to run binomial tests on comprehension. If 18/20 pass, you don't need a p-value to tell you that's good enough to ship.</p>
      
      <h4>Iterative testing</h4>
      <p>Comprehension testing is usually iterative, not comparative. Report before/after numbers:</p>
      <ul>
        <li>Round 1: 8/20 passed (40%)</li>
        <li>Round 2: 14/20 passed (70%)</li>
        <li>Round 3: 18/20 passed (90%) → Ship</li>
      </ul>
      
      <div class="stakeholder-quote" style="margin-top:1rem;">We ran three rounds of comprehension testing. Pass rates moved from 40% to 70% to 90% after copy iterations. At 90% we stopped. Additional polishing showed diminishing returns.</div>
    `
  };

  let lastIntent = "";

  function route() {
    const intentEl = document.getElementById("intent");
    const peopleEl = document.getElementById("people");
    const peopleRow = document.getElementById("peopleRow");
    const peopleLabel = document.getElementById("peopleLabel");
    const peopleHelper = document.getElementById("peopleHelper");

    const intent = intentEl.value;
    const people = peopleEl.value;

    // Configure people dropdown for each intent
    if (intent && intent !== "unsure") {
      const config = intentConfig[intent];

      // Rebuild options when intent changes
      if (intent !== lastIntent) {
        peopleEl.innerHTML = '<option value="">Select an option</option>';
        config.options.forEach(opt => {
          const o = document.createElement("option");
          o.value = opt.value;
          o.textContent = opt.text;
          peopleEl.appendChild(o);
        });
        peopleEl.value = "";
      }

      peopleLabel.textContent = config.label;

      if (config.helper) {
        peopleHelper.textContent = config.helper;
        peopleHelper.classList.remove("hidden");
      } else {
        peopleHelper.classList.add("hidden");
      }

      peopleRow.classList.remove("hidden");
    } else {
      peopleRow.classList.add("hidden");
      peopleHelper.classList.add("hidden");
      peopleEl.value = "";
    }

    lastIntent = intent;

    const showAnswer = intent && (intent === "unsure" || people !== "");
    document.getElementById("answerCard").classList.toggle("hidden", !showAnswer);

    if (showAnswer) {
      renderAnswer(intent, people);
    }
  }

  function renderAnswer(intent, peopleKey) {
    const badge = document.getElementById("badge");
    const methodName = document.getElementById("methodName");
    const primaryRec = document.getElementById("primaryRec");
    const checklist = document.getElementById("checklist");
    const outcomeBox = document.getElementById("outcomeBox");
    const mistakeBox = document.getElementById("mistakeBox");
    const methodToolbox = document.getElementById("methodToolbox");
    const statsToolbox = document.getElementById("statsToolbox");

    let scenario;

    if (intent === "unsure") {
      scenario = scenarios.unsure;
    } else {
      scenario = (scenarios[intent] || {})[peopleKey];
    }

    if (!scenario) {
      document.getElementById("answerCard").classList.add("hidden");
      return;
    }

    badge.className = "badge " + (scenario.badgeClass || "help");
    badge.textContent = scenario.badgeText || "";

    methodName.textContent = scenario.method || "";
    primaryRec.textContent = scenario.rec || "";

    checklist.innerHTML = "";
    if (scenario.steps && scenario.steps.length) {
      checklist.innerHTML = scenario.steps
        .map(step => "<li>" + step + "</li>")
        .join("");
    }

    outcomeBox.innerHTML = scenario.outcome || "";
    mistakeBox.innerHTML = scenario.mistake || "";
    mistakeBox.classList.toggle("hidden", !scenario.mistake);

    methodToolbox.innerHTML = scenario.altMethods || "";
    statsToolbox.innerHTML = scenario.stats || "";
    
    // Inject guide links after content is rendered
    setTimeout(injectGuideLinks, 0);
  }

  function resetAll() {
    document.getElementById("intent").value = "";
    document.getElementById("people").value = "";
    document.getElementById("answerCard").classList.add("hidden");
    document.getElementById("peopleRow").classList.add("hidden");
    document.getElementById("peopleHelper").classList.add("hidden");
    lastIntent = "";
  }

  // ---- MODAL FUNCTIONS ----
  function injectGuideLinks() {
    const statsBoxes = document.querySelectorAll('.stats-box');
    statsBoxes.forEach(box => {
      const text = box.textContent.toLowerCase();
      let type = null;
      if (text.includes('binomial')) type = 'binomial';
      else if (text.includes('two-proportion') || text.includes('z-test')) type = 'twoprop';
      else if (text.includes('comprehension') || text.includes('pass/total')) type = 'comprehension';
      
      if (type && !box.querySelector('.guide-link')) {
        const link = document.createElement('span');
        link.className = 'guide-link';
        link.textContent = 'Read the full guide';
        link.onclick = () => openGuide(type);
        box.appendChild(link);
      }
    });
  }

  function openGuide(type) {
    const modal = document.getElementById('guideModal');
    const title = document.getElementById('modalTitle');
    const body = document.getElementById('modalBody');
    
    const titles = {
      binomial: 'Binomial Test for Preference',
      twoprop: 'Two-Proportion Z-Test for A/B Testing',
      comprehension: 'Comprehension Testing & Scoring'
    };
    
    title.textContent = titles[type] || 'Guide';
    body.innerHTML = guideContent[type] || '<p>Guide not found.</p>';
    modal.classList.remove('hidden');
    document.body.style.overflow = 'hidden';
  }

  function closeGuide() {
    document.getElementById('guideModal').classList.add('hidden');
    document.body.style.overflow = '';
  }

  // Event listeners
  document.addEventListener("DOMContentLoaded", function () {
    document.getElementById("intent").addEventListener("change", route);
    document.getElementById("people").addEventListener("change", route);

    // Modal listeners
    document.querySelector('.modal-backdrop').addEventListener('click', closeGuide);
    document.querySelector('.modal-close').addEventListener('click', closeGuide);
    document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeGuide(); });
  });
</script>

    </div>
  </main>

  <footer class="site-footer">
    <div class="container">
      <a href="/articles/">← Back to Work Samples</a> · © 2025 Miguel Tomás Gomes
    </div>
  </footer>
</body>
</html>